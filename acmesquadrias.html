<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#050505" />
  <title>ACM+ESQUADRIAS | Alto Padrão</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&family=Manrope:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#050505;
      --bg2:#0A0A0A;
      --text:#F7F7F7;
      --muted:#B8B8B8;

      --gold:#D7AE52;
      --gold2:#FFD37A;

      --line: rgba(215,174,82,.34);
      --shadow: 0 30px 80px rgba(0,0,0,.75);
      --shadow2: 0 16px 45px rgba(0,0,0,.55);

      --r-lg: 20px;
      --r-xl: 32px;

      --title:"Playfair Display", serif;
      --body:"Manrope", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      --max: 1180px;

      --header-h: 92px;
    }

    *{ box-sizing:border-box; margin:0; padding:0; }
    html{ scroll-behavior:smooth; }
    body{
      font-family: var(--body);
      color: var(--text);
      background:
        radial-gradient(900px 520px at 12% -10%, rgba(255,211,122,.20), transparent 60%),
        radial-gradient(700px 520px at 90% 12%, rgba(255,246,204,.10), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      overflow-x:hidden;
      -webkit-font-smoothing: antialiased;
      text-rendering: geometricPrecision;
    }

    section, main { scroll-margin-top: calc(var(--header-h) + 18px); }
    a{ color:inherit; text-decoration:none; }
    img{ max-width:100%; display:block; }
    .container{ width:min(var(--max), calc(100% - 40px)); margin:0 auto; }

    header{
      position: sticky;
      top: 0;
      z-index: 99;
      background: rgba(5,5,5,.86);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid var(--line);
    }
    .nav{
      height: var(--header-h);
      display:grid;
      grid-template-columns: 1fr auto;
      align-items:center;
      gap: 14px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:14px;
      min-width: 0;
    }
    .logo{
      width: 58px; height: 58px;
      border-radius: 999px;
      border: 2px solid rgba(255,211,122,.98);
      box-shadow: 0 0 32px rgba(255,211,122,.35), 0 0 90px rgba(255,211,122,.10);
      overflow:hidden;
      background: rgba(0,0,0,.35);
      object-fit: cover;
      flex: 0 0 auto;
    }
    .brand-text{ min-width:0; }
    .brand-name{
      font-family: var(--title);
      letter-spacing: .18em;
      font-size: 16px;
      font-weight: 700;
      text-transform: uppercase;
      background: linear-gradient(180deg, #FFF9DB, var(--gold2), var(--gold));
      -webkit-background-clip:text;
      background-clip:text;
      color: transparent;
      filter: drop-shadow(0 14px 28px rgba(255,211,122,.30)) drop-shadow(0 3px 10px rgba(0,0,0,.55));
      line-height: 1.05;
      display:inline-block;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 62vw;
    }
    .brand-name::after{
      content:"";
      display:block;
      margin-top: 7px;
      height: 2px;
      width: 74%;
      border-radius: 999px;
      background: linear-gradient(90deg, transparent, rgba(255,211,122,.85), transparent);
      filter: drop-shadow(0 10px 18px rgba(255,211,122,.22));
    }
    .brand-sub{
      margin-top: 6px;
      font-size: 12px;
      color: rgba(255,255,255,.70);
      letter-spacing:.02em;
      font-weight: 600;
      display:none;
    }

    .nav-links{
      display:none;
      justify-self:center;
      align-items:center;
      gap: 10px;
      padding: 8px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    .icon-link{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid transparent;
      transition: .2s ease;
      color: rgba(255,255,255,.74);
      font-size: 13.5px;
      font-weight: 800;
      cursor: pointer;
      user-select:none;
      background: transparent;
      -webkit-tap-highlight-color: transparent;
    }
    .icon-link:hover{
      color: var(--text);
      border-color: rgba(255,211,122,.22);
      background: rgba(255,255,255,.04);
      transform: translateY(-1px);
    }
    .icon{ width:18px; height:18px; flex:0 0 auto; }

    .actions{
      justify-self:end;
      display:flex;
      align-items:center;
      gap:10px;
      justify-content:flex-end;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding: 12px 16px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color: var(--text);
      cursor:pointer;
      transition: transform .15s ease, background .2s ease, border-color .2s ease;
      box-shadow: var(--shadow2);
      white-space:nowrap;
      font-weight: 900;
      font-size: 13.5px;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.06);
      border-color: rgba(255,211,122,.20);
    }
    .btn-gold{
      border:1px solid rgba(255,211,122,.55);
      background:
        radial-gradient(120% 140% at 10% 10%, rgba(255,246,204,.42), transparent 55%),
        linear-gradient(180deg, rgba(255,211,122,.78), rgba(215,174,82,.28));
      color: #050505;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.35), 0 18px 45px rgba(0,0,0,.65);
      position:relative;
      overflow:hidden;
    }
    .btn-gold::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(120deg, transparent 35%, rgba(255,246,204,.65), transparent 60%);
      transform: translateX(-85%);
      transition: .75s ease;
      pointer-events:none;
    }
    .btn-gold:hover::after{ transform: translateX(85%); }

    .menu-btn{
      display:inline-grid;
      place-items:center;
      width: 46px;
      height: 46px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      cursor:pointer;
      box-shadow: var(--shadow2);
      -webkit-tap-highlight-color: transparent;
    }

    .hero{ padding: 56px 0 14px; }
    .hero-box{
      border-radius: var(--r-xl);
      border: 1px solid rgba(255,211,122,.25);
      background:
        radial-gradient(700px 320px at 18% 0%, rgba(255,211,122,.20), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.015));
      box-shadow: var(--shadow);
      padding: 34px 18px;
      position:relative;
      overflow:hidden;
    }
    .hero-box::before{
      content:"";
      position:absolute; inset:-1px;
      background: radial-gradient(520px 220px at 85% 10%, rgba(255,246,204,.12), transparent 60%);
      pointer-events:none;
    }
    .hero-grid{ display:grid; gap: 12px; position:relative; z-index:1; }
    .eyebrow{
      letter-spacing:.28em;
      text-transform:uppercase;
      font-size:12px;
      color: rgba(255,246,204,.92);
    }
    h1{
      font-family: var(--title);
      font-size: clamp(34px, 5.6vw, 64px);
      line-height: 1.06;
    }
    .hero p{
      margin-top: 8px;
      color: var(--muted);
      font-size: 16px;
      line-height: 1.75;
      max-width: 72ch;
    }
    .hero-cta{ display:flex; gap:10px; flex-wrap:wrap; margin-top: 14px; }

    section{ padding: 72px 0; }
    .section-head{ display:grid; gap:10px; margin-bottom: 18px; }
    h2{
      font-family: var(--title);
      font-size: clamp(24px, 3.4vw, 40px);
      line-height: 1.14;
    }
    .desc{ color: var(--muted); line-height: 1.85; max-width: 75ch; }

    /* SERVIÇOS (SEM DESENHOS) */
    .services{ display:grid; grid-template-columns: 1fr; gap: 14px; }
    .card{
      border-radius: var(--r-lg);
      border:1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      box-shadow: var(--shadow2);
      padding: 18px;
      transition:.2s ease;
      position:relative;
      overflow:hidden;
      min-height: 140px;
    }
    .card:hover{ transform: translateY(-2px); border-color: rgba(255,211,122,.25); }
    .card::before{
      content:"";
      position:absolute; inset:-1px;
      background: radial-gradient(520px 260px at 0% 0%, rgba(255,211,122,.12), transparent 60%);
      pointer-events:none;
    }
    .card h3{
      margin: 0 0 8px;
      font-family: var(--title);
      font-size: 16px;
      position:relative; z-index:1;
    }
    .card p{
      color: var(--muted);
      font-size: 14px;
      line-height:1.75;
      position:relative; z-index:1;
    }

    .contact{ display:grid; grid-template-columns: 1fr; gap: 14px; }
    .panel{
      border-radius: var(--r-xl);
      border:1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      box-shadow: var(--shadow2);
      padding: 20px;
    }
    .panel h3{ font-family: var(--title); font-size: 16px; margin-bottom: 10px; }
    .panel .small{ color: var(--muted); line-height:1.85; font-size: 14px; margin-bottom: 12px; }
    form{ display:grid; gap: 10px; }
    .field{ display:grid; gap:6px; }
    label{ font-size: 12px; color: rgba(255,255,255,.64); }
    input, textarea, select{
      width:100%;
      border:1px solid rgba(255,211,122,.20);
      background: rgba(0,0,0,.24);
      border-radius: 16px;
      padding: 12px 12px;
      color: var(--text);
      outline:none;
      transition: .2s ease;
      font-family: var(--body);
    }
    input:focus, textarea:focus, select:focus{
      border-color: rgba(255,211,122,.55);
      box-shadow: 0 0 0 4px rgba(255,211,122,.16);
    }
    textarea{ min-height: 120px; resize: vertical; }
    select, option{ background-color: #0A0A0A; color: var(--text); }
    select option:checked{
      background: linear-gradient(180deg, rgba(255,211,122,.95), rgba(215,174,82,.65));
      color:#050505;
    }
    .contact-pills{ display:flex; gap:10px; flex-wrap:wrap; margin-top: 10px; }

    footer{
      padding: 26px 0 36px;
      border-top: 1px solid var(--line);
      color: rgba(255,255,255,.62);
      font-size: 12px;
    }
    .footer-inner{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
    }
    .footer-links{ display:flex; gap:12px; flex-wrap:wrap; }
    .footer-links a:hover{ color: var(--gold2); }

    /* OVERLAYS */
    .overlay{
      display:none;
      position: fixed;
      inset:0;
      z-index: 200;
      background: rgba(0,0,0,.62);
      backdrop-filter: blur(12px);
      padding: 14px;
    }
    .overlay[aria-hidden="false"]{ display:block; }
    .modal{
      width: min(980px, 100%);
      margin: calc(env(safe-area-inset-top) + 60px) auto 0;
      border-radius: 24px;
      border: 1px solid rgba(255,211,122,.22);
      background: rgba(10,10,10,.92);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .modal-head{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 12px;
      padding: 14px 14px;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }
    .modal-title{
      font-family: var(--title);
      font-size: 15px;
      color: rgba(255,255,255,.92);
      display:flex;
      align-items:center;
      gap:10px;
    }
    .modal-body{ padding: 14px; display:grid; gap: 12px; }

    .menu-card{ width: min(520px, 100%); }
    .menu-body{ display:grid; gap:10px; }

    /* PROJETOS */
    .hint{ color: rgba(255,255,255,.62); font-size: 13px; line-height: 1.6; }
    .stage{
      position: relative;
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.28);
      overflow:hidden;
      min-height: 290px;
      display:grid;
      place-items:center;
      box-shadow: 0 20px 70px rgba(0,0,0,.60);
      touch-action: pan-y;
      -webkit-tap-highlight-color: transparent;
    }
    .stage img{
      width: 100%;
      height: auto;
      max-height: 60vh;
      object-fit: contain;
      padding: 10px;
      user-select:none;
      -webkit-user-drag:none;
      pointer-events:none;
      transition: opacity .18s ease;
    }
    .nav-arrow{
      position:absolute;
      top: 50%;
      transform: translateY(-50%);
      width: 44px; height: 44px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.45);
      backdrop-filter: blur(10px);
      cursor:pointer;
      display:grid;
      place-items:center;
      transition: .18s ease;
      -webkit-tap-highlight-color: transparent;
    }
    .nav-arrow:hover{
      transform: translateY(-50%) scale(1.04);
      border-color: rgba(255,211,122,.28);
      box-shadow: 0 0 28px rgba(255,211,122,.14);
    }
    .nav-arrow svg{ width: 18px; height:18px; }
    .nav-arrow.left{ left: 10px; }
    .nav-arrow.right{ right: 10px; }

    .counter{
      position:absolute;
      right: 12px;
      bottom: 12px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.40);
      color: rgba(255,255,255,.88);
      font-weight: 900;
      font-size: 12px;
      letter-spacing:.04em;
      backdrop-filter: blur(10px);
    }

    .thumbs{
      display:flex;
      gap: 10px;
      overflow:auto;
      padding: 6px 2px 2px;
      scrollbar-width: thin;
      scrollbar-color: rgba(255,211,122,.35) rgba(255,255,255,.06);
    }
    .thumbs::-webkit-scrollbar{ height: 8px; }
    .thumbs::-webkit-scrollbar-thumb{ background: rgba(255,211,122,.30); border-radius: 999px; }
    .thumbs::-webkit-scrollbar-track{ background: rgba(255,255,255,.06); border-radius: 999px; }

    .thumb{
      flex: 0 0 auto;
      width: 90px;
      height: 62px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      overflow:hidden;
      cursor:pointer;
      transition: .18s ease;
      -webkit-tap-highlight-color: transparent;
    }
    .thumb:hover{ transform: translateY(-2px); border-color: rgba(255,211,122,.25); }
    .thumb img{ width:100%; height:100%; object-fit: cover; pointer-events:none; -webkit-user-drag:none; }
    .thumb.active{
      border-color: rgba(255,211,122,.60);
      box-shadow: 0 0 0 3px rgba(255,211,122,.14);
    }

    @media (min-width: 980px){
      .container{ width:min(var(--max), calc(100% - 48px)); }
      .nav{ grid-template-columns: 1fr auto 1fr; }
      .nav-links{ display:flex; }
      .menu-btn{ display:none; }
      .brand-sub{ display:block; }
      .brand-name{ font-size: 18px; max-width: 460px; }

      .hero{ padding: 72px 0 18px; }
      .hero-box{ padding: 58px; }
      .hero p{ font-size: 18px; }

      .services{ grid-template-columns: repeat(12, 1fr); }
      .card{ grid-column: span 3; min-height: 150px; padding: 20px; }
      .contact{ grid-template-columns: repeat(12, 1fr); }
      .panel{ grid-column: span 6; padding: 22px; }

      .stage img{ max-height: 68vh; }
    }
  </style>
</head>

<body>

<header>
  <div class="container nav">
    <a class="brand" href="#inicio" aria-label="Início">
      <img class="logo" src="https://i.ibb.co/SXvzbD4D/wmremove-transformed-4.png" alt="Logo ACM+Esquadrias">
      <div class="brand-text">
        <div class="brand-name">ACM+ESQUADRIAS</div>
        <div class="brand-sub">Portas em ACM • Alumínio • Vidros • Espelhos • Coberturas</div>
      </div>
    </a>

    <nav class="nav-links" aria-label="Navegação">
      <a href="#servicos" class="icon-link">
        <svg class="icon" viewBox="0 0 24 24" fill="none">
          <path d="M4 7h16v10H4V7Z" stroke="rgba(255,211,122,.95)" stroke-width="1.6"/>
          <path d="M8 7v10" stroke="rgba(255,255,255,.35)" stroke-width="1.2"/>
        </svg>
        Serviços
      </a>

      <button type="button" class="icon-link" id="openProjects" aria-label="Abrir projetos">
        <svg class="icon" viewBox="0 0 24 24" fill="none">
          <path d="M4 7h7l1.2-2h7.8v14H4V7Z" stroke="rgba(255,211,122,.95)" stroke-width="1.6"/>
          <path d="M7 12h10" stroke="rgba(255,255,255,.35)" stroke-width="1.2" stroke-linecap="round"/>
        </svg>
        Projetos
      </button>

      <a href="#contato" class="icon-link">
        <svg class="icon" viewBox="0 0 24 24" fill="none">
          <path d="M4 7h16v10H4V7Z" stroke="rgba(255,211,122,.95)" stroke-width="1.6"/>
          <path d="M4 9l8 5 8-5" stroke="rgba(255,255,255,.35)" stroke-width="1.2"/>
        </svg>
        Contato
      </a>

      <a href="https://www.instagram.com/acm_esquadriasltda?igsh=bzNiOXYydDFtZWJ4" target="_blank" rel="noopener" class="icon-link">
        <svg class="icon" viewBox="0 0 24 24" fill="none">
          <rect x="5" y="5" width="14" height="14" rx="4" stroke="rgba(255,211,122,.95)" stroke-width="1.6"/>
          <path d="M12 10.2a1.8 1.8 0 1 0 0 3.6 1.8 1.8 0 0 0 0-3.6Z" stroke="rgba(255,255,255,.35)" stroke-width="1.2"/>
          <path d="M16.5 7.6h.01" stroke="rgba(255,255,255,.45)" stroke-width="2" stroke-linecap="round"/>
        </svg>
        Instagram
      </a>

      <a href="mailto:fs5802642@gmail.com" class="icon-link">
        <svg class="icon" viewBox="0 0 24 24" fill="none">
          <path d="M4 7h16v10H4V7Z" stroke="rgba(255,211,122,.95)" stroke-width="1.6"/>
          <path d="M4 9l8 5 8-5" stroke="rgba(255,255,255,.35)" stroke-width="1.2"/>
        </svg>
        E-mail
      </a>
    </nav>

    <div class="actions">
      <button class="menu-btn" id="openMenu" aria-label="Abrir menu">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M4 7h16M4 12h16M4 17h16" stroke="rgba(255,255,255,.85)" stroke-width="1.8" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
  </div>
</header>

<main id="inicio" class="hero">
  <div class="container">
    <div class="hero-box">
      <div class="hero-grid">
        <div class="eyebrow">ACM+ESQUADRIAS</div>
        <h1>Design premium.<br>Execução de alto padrão.</h1>
        <p>
          Portas em ACM, esquadrias de alumínio, vidros e espelhos — também
          <b style="color:rgba(255,255,255,.92)">coberturas em vidro e policarbonato</b>.
        </p>

        <div class="hero-cta">
          <a class="btn btn-gold" id="btnOrcamento" href="#" target="_blank" rel="noopener">Agendar orçamento</a>
          <button class="btn" id="openProjects2" type="button">Ver projetos</button>
          <a class="btn" href="#contato">Falar com a equipe</a>
        </div>
      </div>
    </div>
  </div>
</main>

<section id="servicos">
  <div class="container">
    <div class="section-head">
      <div class="eyebrow">Serviços</div>
      <h2>Soluções sob medida com acabamento sofisticado</h2>
      <p class="desc">Projetos planejados para estética, resistência e instalação com atenção aos detalhes.</p>
    </div>

    <div class="services">
      <article class="card">
        <h3>Portas em ACM</h3>
        <p>Entrada com impacto visual, durabilidade e acabamento premium.</p>
      </article>

      <article class="card">
        <h3>Esquadrias de Alumínio</h3>
        <p>Portas e janelas sob medida, com encaixe perfeito e visual limpo.</p>
      </article>

      <article class="card">
        <h3>Vidros e Espelhos</h3>
        <p>Box, espelhos decorativos e fechamentos com padrão superior.</p>
      </article>

      <article class="card">
        <h3>Coberturas (Vidro / Policarbonato)</h3>
        <p>Coberturas sob medida para áreas externas, com proteção e acabamento premium.</p>
      </article>
    </div>
  </div>
</section>

<section id="contato">
  <div class="container">
    <div class="section-head">
      <div class="eyebrow">Contato</div>
      <h2>Orçamento direto no WhatsApp</h2>
      <p class="desc">Envie fotos e medidas para agilizar. A mensagem já sai pronta.</p>
    </div>

    <div class="contact">
      <div class="panel">
        <h3>Contatos oficiais</h3>
        <p class="small">Clique e fale direto com a equipe:</p>

        <div class="contact-pills">
          <a class="btn" href="https://www.instagram.com/acm_esquadriasltda?igsh=bzNiOXYydDFtZWJ4" target="_blank" rel="noopener">Instagram</a>
          <a class="btn" href="mailto:fs5802642@gmail.com">E-mail</a>
          <a class="btn btn-gold" id="btnWhats2" href="#" target="_blank" rel="noopener">WhatsApp</a>
          <button class="btn" id="openProjects3" type="button">Projetos</button>
        </div>
      </div>

      <div class="panel">
        <h3>Mensagem rápida</h3>
        <form id="waForm">
          <div class="field">
            <label for="nome">Seu nome</label>
            <input id="nome" required placeholder="Ex.: Francisco" />
          </div>

          <div class="field">
            <label for="tipo">O que você precisa?</label>
            <select id="tipo" required>
              <option value="" disabled selected>Selecione…</option>
              <option>Porta em ACM</option>
              <option>Esquadria de alumínio</option>
              <option>Vidros (box/varanda/divisória)</option>
              <option>Espelhos</option>
              <option>Cobertura em vidro</option>
              <option>Cobertura em policarbonato</option>
              <option>Outro</option>
            </select>
          </div>

          <div class="field">
            <label for="msg">Detalhes</label>
            <textarea id="msg" placeholder="Ex.: Medidas aproximadas, endereço/bairro, vou enviar fotos no WhatsApp"></textarea>
          </div>

          <button class="btn btn-gold" type="submit">Enviar no WhatsApp</button>
        </form>
      </div>
    </div>
  </div>
</section>

<footer>
  <div class="container footer-inner">
    <div>© <span id="year"></span> ACM+ESQUADRIAS. Todos os direitos reservados.</div>
    <div class="footer-links">
      <a href="#" id="openProjectsFooter">Projetos</a>
      <a href="https://www.instagram.com/acm_esquadriasltda?igsh=bzNiOXYydDFtZWJ4" target="_blank" rel="noopener">Instagram</a>
      <a href="mailto:fs5802642@gmail.com">E-mail</a>
      <a href="#servicos">Serviços</a>
      <a href="#contato">Contato</a>
    </div>
  </div>
</footer>

<!-- OVERLAY MENU MOBILE -->
<div class="overlay" id="mobileOverlay" aria-hidden="true">
  <div class="modal menu-card" role="dialog" aria-modal="true" aria-label="Menu">
    <div class="modal-head">
      <div class="modal-title">Menu</div>
      <button class="btn" id="closeMenu" type="button" style="padding:10px 12px;">Fechar</button>
    </div>
    <div class="modal-body menu-body">
      <a class="btn" href="#servicos" data-close>Serviços</a>
      <button class="btn" type="button" id="openProjectsMobile" data-close>Projetos</button>
      <a class="btn" href="#contato" data-close>Contato</a>
      <a class="btn" href="https://www.instagram.com/acm_esquadriasltda?igsh=bzNiOXYydDFtZWJ4" target="_blank" rel="noopener" data-close>Instagram</a>
      <a class="btn" href="mailto:fs5802642@gmail.com" data-close>E-mail</a>
      <a class="btn btn-gold" id="btnWhats3" href="#" target="_blank" rel="noopener" data-close>WhatsApp</a>
    </div>
  </div>
</div>

<!-- OVERLAY PROJETOS -->
<div class="overlay" id="projectsOverlay" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-label="Projetos">
    <div class="modal-head">
      <div class="modal-title">
        <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M4 7h7l1.2-2h7.8v14H4V7Z" stroke="rgba(255,211,122,.95)" stroke-width="1.6"/>
          <path d="M7 12h10" stroke="rgba(255,255,255,.35)" stroke-width="1.2" stroke-linecap="round"/>
        </svg>
        Projetos realizados
      </div>
      <button class="btn" id="closeProjects" type="button" style="padding:10px 12px;">Fechar</button>
    </div>

    <div class="modal-body">
      <div class="hint">Arraste no celular ou use as setas. (ESC fecha no PC)</div>

      <div class="stage" id="stage">
        <button class="nav-arrow left" id="prev" type="button" aria-label="Anterior">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M14.5 6l-6 6 6 6" stroke="rgba(255,255,255,.85)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>

        <img id="stageImg" alt="Projeto" draggable="false" />

        <button class="nav-arrow right" id="next" type="button" aria-label="Próxima">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M9.5 6l6 6-6 6" stroke="rgba(255,255,255,.85)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>

        <div class="counter" id="counter">1/1</div>
      </div>

      <div class="thumbs" id="thumbs" aria-label="Miniaturas"></div>
    </div>
  </div>
</div>

<script>
  // ===== Overlay sem bug de scroll =====
  const state = { scrollY: 0, openOverlayId: null };

  function lockScroll() {
    state.scrollY = window.scrollY || 0;
    document.body.style.position = "fixed";
    document.body.style.top = `-${state.scrollY}px`;
    document.body.style.left = "0";
    document.body.style.right = "0";
    document.body.style.width = "100%";
  }
  function unlockScroll() {
    const y = state.scrollY || 0;
    document.body.style.position = "";
    document.body.style.top = "";
    document.body.style.left = "";
    document.body.style.right = "";
    document.body.style.width = "";
    window.scrollTo(0, y);
  }
  function openOverlay(el){
    if(state.openOverlayId && state.openOverlayId !== el.id){
      closeOverlay(document.getElementById(state.openOverlayId));
    }
    el.setAttribute("aria-hidden","false");
    lockScroll();
    state.openOverlayId = el.id;
  }
  function closeOverlay(el){
    el.setAttribute("aria-hidden","true");
    unlockScroll();
    state.openOverlayId = null;
  }
  function closeOnBackdrop(e, overlayEl){
    if(e.target === overlayEl) closeOverlay(overlayEl);
  }

  // ===== WhatsApp =====
  const WHATSAPP_NUMBER = "5561982200415";
  const wa = (txt) => "https://wa.me/" + WHATSAPP_NUMBER + "?text=" + encodeURIComponent(txt);
  const defaultMsg = "Olá! Vim pelo site da ACM+ESQUADRIAS e gostaria de um orçamento. Vou enviar fotos e medidas aproximadas.";

  document.getElementById("year").textContent = new Date().getFullYear();
  document.getElementById("btnOrcamento").href = wa(defaultMsg);
  document.getElementById("btnWhats2").href = wa(defaultMsg);
  document.getElementById("btnWhats3").href = wa(defaultMsg);

  document.getElementById("waForm").addEventListener("submit", (e)=>{
    e.preventDefault();
    const nome = document.getElementById("nome").value.trim();
    const tipo = document.getElementById("tipo").value.trim();
    const msg  = document.getElementById("msg").value.trim();
    const text = `Olá! Meu nome é ${nome}. Quero orçamento para: ${tipo}. ${msg ? `Detalhes: ${msg}. ` : ""}Vou enviar fotos e medidas do local aqui no WhatsApp.`;
    window.open(wa(text), "_blank", "noopener");
  });

  // ===== Menu Mobile =====
  const mobileOverlay = document.getElementById("mobileOverlay");
  document.getElementById("openMenu").addEventListener("click", ()=> openOverlay(mobileOverlay));
  document.getElementById("closeMenu").addEventListener("click", ()=> closeOverlay(mobileOverlay));
  mobileOverlay.addEventListener("click", (e)=> closeOnBackdrop(e, mobileOverlay));
  document.querySelectorAll("[data-close]").forEach(el=>{
    el.addEventListener("click", ()=>{
      if(mobileOverlay.getAttribute("aria-hidden")==="false") closeOverlay(mobileOverlay);
    });
  });

  // ===== Projetos (com fallback Android para fotos que falham no i.ibb.co) =====
  const PROJECT_IMAGES = [
    "https://i.ibb.co/tpZSYq8D/Whats-App-Image-2026-01-31-at-21-19-32.jpg",
    "https://i.ibb.co/q30xC1GM/Whats-App-Image-2026-01-31-at-21-14-40-1.jpg", // 2 (pode falhar no Android)
    "https://i.ibb.co/YF1trrZY/Whats-App-Image-2026-01-31-at-21-14-40.jpg",
    "https://i.ibb.co/217Mp6zT/Whats-App-Image-2026-01-31-at-21-14-39.jpg",
    "https://i.ibb.co/4Zks1LRH/Whats-App-Image-2026-01-31-at-21-14-14-2.jpg", // 5 (pode falhar no Android)
    "https://i.ibb.co/nqJcbT8b/Whats-App-Image-2026-01-31-at-21-14-14-1.jpg",
    "https://i.ibb.co/TBBMQkNG/Whats-App-Image-2026-01-31-at-21-14-14.jpg",
    "https://i.ibb.co/nNv7xjJN/Whats-App-Image-2026-01-31-at-21-14-13-2.jpg",
    "https://i.ibb.co/NgBDtkw4/Whats-App-Image-2026-01-31-at-21-14-13-1.jpg",
    "https://i.ibb.co/4nm00hyh/Whats-App-Image-2026-01-31-at-21-14-13.jpg"
  ];

  // fallback robusto: se falhar, carrega via proxy (resolve Android)
  const proxy = (url) => {
    const noProto = url.replace(/^https?:\/\//, "");
    return `https://images.weserv.nl/?url=${encodeURIComponent(noProto)}`;
  };

  function setImgWithFallback(imgEl, url) {
    imgEl.onerror = () => {
      if (imgEl.dataset.fallbackApplied === "1") return; // evita loop
      imgEl.dataset.fallbackApplied = "1";
      imgEl.src = proxy(url);
    };
    imgEl.dataset.fallbackApplied = "0";
    imgEl.src = url;
  }

  const projectsOverlay = document.getElementById("projectsOverlay");
  const stage = document.getElementById("stage");
  const stageImg = document.getElementById("stageImg");
  const thumbs = document.getElementById("thumbs");
  const counter = document.getElementById("counter");
  const prevBtn = document.getElementById("prev");
  const nextBtn = document.getElementById("next");

  const openProjectsBtns = [
    document.getElementById("openProjects"),
    document.getElementById("openProjects2"),
    document.getElementById("openProjects3"),
    document.getElementById("openProjectsFooter"),
    document.getElementById("openProjectsMobile")
  ].filter(Boolean);

  let currentIndex = 0;

  function setActiveThumb(){
    const all = thumbs.querySelectorAll(".thumb");
    all.forEach((t, i)=> t.classList.toggle("active", i === currentIndex));
    const active = all[currentIndex];
    if(active) active.scrollIntoView({ behavior: "smooth", inline: "center", block: "nearest" });
  }

  function renderStage(){
    stageImg.style.opacity = "0";
    const src = PROJECT_IMAGES[currentIndex];
    stageImg.onload = () => { stageImg.style.opacity = "1"; };
    setImgWithFallback(stageImg, src);

    counter.textContent = `${currentIndex + 1}/${PROJECT_IMAGES.length}`;
    setActiveThumb();
  }

  function buildThumbs(){
    thumbs.innerHTML = "";
    PROJECT_IMAGES.forEach((src, idx)=>{
      const b = document.createElement("button");
      b.type = "button";
      b.className = "thumb";
      b.setAttribute("aria-label", `Ver projeto ${idx+1}`);

      const im = document.createElement("img");
      im.alt = `Miniatura ${idx+1}`;
      im.loading = "lazy";
      im.draggable = false;
      im.style.pointerEvents = "none";

      setImgWithFallback(im, src);

      b.appendChild(im);
      b.addEventListener("click", ()=>{
        currentIndex = idx;
        renderStage();
      });
      thumbs.appendChild(b);
    });
  }

  function showProjects(startIdx=0){
    currentIndex = Math.max(0, Math.min(startIdx, PROJECT_IMAGES.length - 1));
    buildThumbs();
    renderStage();
    openOverlay(projectsOverlay);
  }
  function hideProjects(){ closeOverlay(projectsOverlay); }
  function go(delta){
    currentIndex = (currentIndex + delta + PROJECT_IMAGES.length) % PROJECT_IMAGES.length;
    renderStage();
  }

  openProjectsBtns.forEach(btn=>{
    btn.addEventListener("click", (e)=>{
      e.preventDefault();
      if(mobileOverlay.getAttribute("aria-hidden") === "false") closeOverlay(mobileOverlay);
      showProjects(0);
    });
  });

  document.getElementById("closeProjects").addEventListener("click", hideProjects);
  projectsOverlay.addEventListener("click", (e)=> closeOnBackdrop(e, projectsOverlay));
  prevBtn.addEventListener("click", ()=> go(-1));
  nextBtn.addEventListener("click", ()=> go(1));

  // Swipe (Android/iOS)
  let startX = 0, startY = 0, isDown = false;
  const startGesture = (x,y)=>{ isDown=true; startX=x; startY=y; };
  const endGesture = (x,y)=>{
    if(!isDown) return;
    isDown=false;
    const dx = x - startX, dy = y - startY;
    if(Math.abs(dx) > 45 && Math.abs(dx) > Math.abs(dy)){
      dx < 0 ? go(1) : go(-1);
    }
  };

  stage.addEventListener("pointerdown", (e)=>{ startGesture(e.clientX, e.clientY); stage.setPointerCapture?.(e.pointerId); });
  stage.addEventListener("pointerup", (e)=> endGesture(e.clientX, e.clientY));
  stage.addEventListener("pointercancel", ()=>{ isDown=false; });

  stage.addEventListener("touchstart", (e)=>{
    const t = e.touches && e.touches[0]; if(!t) return;
    startGesture(t.clientX, t.clientY);
  }, { passive:true });

  stage.addEventListener("touchend", (e)=>{
    const t = e.changedTouches && e.changedTouches[0]; if(!t) return;
    endGesture(t.clientX, t.clientY);
  }, { passive:true });

  // ESC + teclado no PC
  document.addEventListener("keydown", (e)=>{
    if(e.key === "Escape" && state.openOverlayId){
      closeOverlay(document.getElementById(state.openOverlayId));
    }
    if(state.openOverlayId === "projectsOverlay"){
      if(e.key === "ArrowLeft") go(-1);
      if(e.key === "ArrowRight") go(1);
    }
  });

  // Scroll suave confiável (âncoras)
  function smoothScrollToId(id){
    const el = document.querySelector(id);
    if(!el) return;
    const headerH = 92;
    const top = el.getBoundingClientRect().top + window.scrollY - headerH - 14;
    window.scrollTo({ top, behavior: "smooth" });
  }
  document.querySelectorAll('a[href^="#"]').forEach(a=>{
    a.addEventListener("click", (e)=>{
      const href = a.getAttribute("href");
      if(!href || href === "#") return;
      e.preventDefault();
      if(mobileOverlay.getAttribute("aria-hidden") === "false") closeOverlay(mobileOverlay);
      smoothScrollToId(href);
    });
  });
</script>

</body>
</html>
